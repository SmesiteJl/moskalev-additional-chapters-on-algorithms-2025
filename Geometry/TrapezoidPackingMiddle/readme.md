# TrapezoidPackingMiddle — безотходная укладка трапеций с вращением относительно средней линии

## 1. Постановка задачи
Дан набор трапеций. Разрешается вращать каждую трапецию относительно её средней линии. Требуется определить, существует ли безотходная укладка всех трапеций без наложений и зазоров.

---

## 2. Идея решения
Как и в предыдущем варианте задачи, я перебирал все возможные порядки следования трапеций и для каждой фигуры рассматривал два возможных состояния — без поворота и с поворотом относительно средней линии.

---

## 3. Выбор алгоритма
Число трапеций невелико, поэтому допустим полный перебор всех вариантов. Это позволяет получить гарантированно корректный результат без сложных геометрических оптимизаций.

---

## 4. Алгоритм в общем виде
1. Считать набор трапеций.
2. Сгенерировать все перестановки трапеций.
3. Для каждой перестановки рассмотреть все варианты поворота относительно средней линии.
4. Проверить выполнение условий безотходной укладки.
5. При нахождении решения завершить поиск.

---

## 5. Корректность
Перебор охватывает все допустимые конфигурации размещения трапеций. Следовательно, если безотходная укладка существует, она будет найдена. Отсутствие найденного решения означает, что корректная укладка невозможна.

---

## 6. Асимптотическая сложность
Пусть n — количество трапеций.  
Перебор перестановок: O(n!).  
Перебор ориентаций: O(2ⁿ).  
Итоговая сложность: O(n! · 2ⁿ).  
Память: O(n).

---

## 7. Особые случаи
- Симметричные трапеции.
- Трапеции с одинаковыми параметрами.
- Единственная трапеция.
- Отсутствие решения.

---

## 8. Связь с теорией
Задача относится к задачам о переборе геометрических конфигураций и симметрий фигур с учётом отражений и поворотов.

---

## 9. Что реализовано в программе
- Хранение параметров трапеций.
- Генерация всех перестановок.
- Перебор поворотов относительно средней линии.
- Проверка условий укладки.
- Определение существования корректного решения.
