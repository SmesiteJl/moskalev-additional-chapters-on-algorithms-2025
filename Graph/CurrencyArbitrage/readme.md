# CurrencyArbitrage — поиск возможности валютного арбитража

## 1. Постановка задачи
Задана матрица обменных курсов между валютами: элемент a[i][j] показывает, сколько единиц валюты j нужно, чтобы купить одну единицу валюты i. Требуется определить, существует ли последовательность обменов, которая позволяет увеличить исходную сумму — то есть существует ли арбитражный цикл.

---

## 2. Идея решения
Я свёл задачу к поиску отрицательного цикла в ориентированном графе. Для этого каждый курс был преобразован через логарифмирование, что позволило заменить произведение коэффициентов на сумму весов рёбер.

---

## 3. Выбор алгоритма
Поиск отрицательного цикла на графе с возможными отрицательными весами удобно решается алгоритмом Беллмана–Форда. Он гарантированно находит отрицательные циклы, если они существуют.

---

## 4. Алгоритм в общем виде
1. Построить граф: вершины — валюты, рёбра — обмены.
2. Заменить веса по формуле: weight = ln(rate).
3. Запустить алгоритм Беллмана–Форда из любой вершины.
4. Если после n–1 релаксации можно сделать ещё одну — существует отрицательный цикл.
5. Сделать вывод о наличии арбитража.

---

## 5. Корректность
Логарифмирование делает произведение коэффициентов эквивалентным сумме логарифмов. Арбитражный цикл соответствует произведению > 1, а значит — сумме логарифмов < 0. Беллман–Форд гарантированно обнаруживает такие циклы.

---

## 6. Асимптотическая сложность
Количество валют — n.  
Количество рёбер — n².  
Сложность Беллмана–Форда: O(n³).  
Память: O(n²).

---

## 7. Особые случаи
- Курсы могут быть несимметричными.
- На диагонали могут стоять числа ≠ 1.
- Невозможные обмены можно считать рёбрами бесконечной стоимости.
- Матрица может содержать очень маленькие и большие числа.

---

## 8. Связь с теорией
Используется классический приём свёртки мультипликативных циклов в аддитивные через логарифмирование. Поиск отрицательных циклов — базовое применение алгоритма Беллмана–Форда.

---

## 9. Что реализовано в программе
- Преобразование курсов через логарифм.
- Построение графа.
- Запуск алгоритма Беллмана–Форда.
- Проверка наличия отрицательного цикла.
- Вывод результата о возможности арбитража.
