# KazanHappyCount15 — количество 15-значных казанских счастливых билетов

## 1. Постановка задачи
Требуется вычислить количество всех 15-значных билетов, которые являются «счастливыми» по казанскому определению: сумма цифр на чётных позициях равна сумме цифр на нечётных.

---

## 2. Идея решения
Я перебирал возможные суммы цифр на чётных позициях и подсчитывал число комбинаций, которые дают такую сумму. Аналогично — для нечётных позиций. Ответом служит сумма произведений количеств соответствующих комбинаций.

---

## 3. Выбор алгоритма
Перебор всех 10¹⁵ билетов невозможен. Вместо этого задача разбивается на две независимые части по 7 и 8 цифр, и далее используется свёртка комбинаторных таблиц.

---

## 4. Алгоритм в общем виде
1. Сгенерировать таблицу dp_even для всех сумм на чётных позициях.
2. Сгенерировать таблицу dp_odd для всех сумм на нечётных позициях.
3. Для каждой суммы s умножить dp_even[s] на dp_odd[s].
4. Просуммировать произведения.
5. Вывести итоговое число.

---

## 5. Корректность
Каждая комбинация чётных позиций и каждая комбинация нечётных позиций учитываются независимо. Произведение таблиц даёт количество всех билетов, в которых суммы совпадают.

---

## 6. Асимптотическая сложность
Время: O(n · S), где S — максимальная сумма цифр.  
Память: O(S).

---

## 7. Особые случаи
- Большие суммы.
- Комбинации с нулями.
- Разное количество чётных и нечётных позиций.

---

## 8. Связь с теорией
Используется техника комбинаторных разбиений и динамического программирования по цифрам.

---

## 9. Что реализовано в программе
- ДП по количеству цифр и сумме.
- Генерация двух независимых таблиц.
- Комбинаторная свёртка таблиц.
- Вычисление точного количества билетов.
